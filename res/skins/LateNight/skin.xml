  <!--
  LateNight, Resizable skin for Mixxx 2.3.x
  www.mixxx.org
  Copyright (C) 2010-2013 jus <s.brandt@mixxx.org>, 2014 Owen Williams <owilliams@mixxx.org>,
  2019-2020 ronso0 <ronso0@mixxx.org>
  "LateNight" is licensed under the Creative Commons Attribution-ShareAlike 3.0 Unported license.
  http://creativecommons.org/licenses/by-sa/3.0/

  With every copy of the work, you are required to either provide a copy of the license it self
  or a link (URI). Failure to do this is a failure to complete the terms of the CC license.

  You are free:
  to Share - to copy, distribute and transmit the work
  to Remix - to adapt the work

  Under the following conditions:
  Attribution - You must attribute the work in the manner specified by the author or licensor
  (but not in any way that suggests that they endorse you or your use of the work).
  A attribution should include the following: The name of the author and/or licensor,
  the title of the work, the URL that is associated with the work.

  Share Alike - If you alter, transform, or build upon this work, you may distribute
  the resulting work only under the same or similar license to this one.

  TODO: Remove "persist" attributes throughout the skin and confirm that declaring
  them in the attributes section instead works.
  -->

<!DOCTYPE skin>
<skin>
  <manifest>
    <title>LateNight</title>
    <author>owilliams</author>
    <version>2.3.0.01</version>
    <description>A wide nighttime skin with stacked waveforms, 4 decks and 8 samplers.</description>
    <language>en</language>
    <license>Creative Commons Attribution, Share-Alike 3.0 Unported</license>
    <attributes>
      <!-- Set skin defaults -->
      <attribute config_key="[Master],num_decks">4</attribute>
      <attribute config_key="[Master],num_samplers">8</attribute>
      <!-- Decks -->
      <attribute persist="true" config_key="[Skin],show_waveforms">1</attribute>
      <attribute persist="true" config_key="[Skin],show_4decks">0</attribute>
      <attribute persist="true" config_key="[Skin],show_8_hotcues">1</attribute>
      <attribute persist="true" config_key="[LateNight],deck_size">0</attribute>
      <attribute persist="true" config_key="[Skin],show_intro_outro_cues">1</attribute>
      <attribute persist="true" config_key="[Skin],show_spinnies">1</attribute>
      <attribute persist="true" config_key="[Skin],show_coverart">1</attribute>
      <attribute persist="true" config_key="[Skin],show_big_spinny_coverart">0</attribute>
      <attribute persist="true" config_key="[Vinylcontrol],show_vinylcontrol">0</attribute>
      <attribute persist="true" config_key="[Skin],show_rate_controls">1</attribute>
      <attribute persist="true" config_key="[Skin],show_rate_control_buttons">1</attribute>
      <attribute persist="true" config_key="[Skin],show_beatgrid_controls">1</attribute>
      <attribute persist="true" config_key="[Skin],timing_shift_buttons">0</attribute>
      <!-- Mixer -->
      <attribute persist="true" config_key="[Master],show_mixer">1</attribute>
      <attribute persist="true" config_key="[Skin],show_master_head_mixer">1</attribute>
      <attribute persist="true" config_key="[Skin],show_eq_knobs">1</attribute>
      <attribute persist="true" config_key="[Skin],show_eq_kill_buttons">1</attribute>
      <attribute persist="true" config_key="[Skin],show_xfader">1</attribute>
      <!-- Effects -->
      <attribute persist="true" config_key="[EffectRack1],show">1</attribute>
      <attribute persist="true" config_key="[Skin],show_4effectunits">0</attribute>
      <attribute persist="true" config_key="[Skin],show_superknobs">0</attribute>
      <!-- Samplers -->
      <attribute persist="true" config_key="[Samplers],show_samplers">1</attribute>
      <attribute persist="true" config_key="[Skin],8_samplers">1</attribute>
      <attribute persist="true" config_key="[Skin],expand_samplers">0</attribute>
      <!-- Library -->
      <attribute config_key="[Master],maximize_library">0</attribute>
      <attribute persist="true" config_key="[Skin],show_minimal_decks">1</attribute>
      <attribute persist="true" config_key="[PreviewDeck],show_previewdeck">0</attribute>
      <attribute persist="true" config_key="[Library],show_coverart">1</attribute>

      <attribute persist="true" config_key="[Microphone],show_microphone">0</attribute>
      <attribute persist="true" config_key="[Master],skin_settings">0</attribute>
      <!-- Disable hidden effect routing Buttons -->
      <attribute persist="false" config_key="[EffectRack1_EffectUnit1],group_[MasterOutput]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit1],group_[BusLeft]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit1],group_[BusCenter]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit1],group_[BusRight]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit1],group_[BusTalkover]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit2],group_[MasterOutput]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit2],group_[BusLeft]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit2],group_[BusCenter]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit2],group_[BusRight]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit2],group_[BusTalkover]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit3],group_[MasterOutput]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit3],group_[BusLeft]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit3],group_[BusCenter]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit3],group_[BusRight]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit3],group_[BusTalkover]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit4],group_[MasterOutput]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit4],group_[BusLeft]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit4],group_[BusCenter]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit4],group_[BusRight]_enable">0</attribute>
      <attribute persist="false" config_key="[EffectRack1_EffectUnit4],group_[BusTalkover]_enable">0</attribute>
    </attributes>
  </manifest>

  <Schemes>
    <Scheme>
      <Name>PaleMoon</Name>
      <!-- Mix any of the existing button, knob, slider or style theme subsets.
        The button templates for example link to skin:/BtnTheme/buttons/btn_...

        BtnScheme     borders / background images for pushbuttons, spinboxes,
                      effect selector, AutoDJ fade mode selector.
                      If variable BtnSize is empty the templates will link to icons,
                      for example skin:/classic/btn__slipmode.svg
        KnobScheme    guess what
        SliderScheme  ...exactly!
        StyleScheme   icons & backgrounds for library, splitters, spinnies,
                      VU meter, default cover art etc.

        Note:   Icons for buttons that have images set in xml already are set in the
                respective style-[theme].qss -->
      <Style src="skin:style_palemoon.qss"/>
      <SetVariable name="BtnScheme">palemoon</SetVariable>
      <SetVariable name="KnobScheme">palemoon</SetVariable>
      <SetVariable name="SliderScheme">palemoon</SetVariable>
      <SetVariable name="StyleScheme">palemoon</SetVariable>

      <!-- Set the button type
          * elevated: buttons stand out, have a 3D border and a drop shadow
          * embedded: buttons are domed and seem leveled with surface,
            and they have surrounding groove -->
      <!-- Buttons in top-level containers: mixer, rate controls, collapsed Fx... -->
      <SetVariable name="TopRegion_BtnType">embedded</SetVariable>
      <!-- Buttons in recessed regions: transport row, mic/aux units... -->
      <SetVariable name="SubRegion_BtnType">embedded</SetVariable>

      <!-- Some widget sizes that are scheme specific to align them with sorrounding
          elements. -->
      <!-- Spinnies inside need 1:1 aspect ratio to get painted circular.
          This sets the size of the parent container which might have padding,
          margin or a border which need to be considered.
CHECK! -->
      <SetVariable name="SpinnySizeSmall">64f,62f</SetVariable>
      <SetVariable name="SpinnySizeBig">112f,111f</SetVariable>
      <SetVariable name="SpinnySizeBigCompact">112f,111f</SetVariable>
      <SetVariable name="SpinnySizeMiniDeck">54f,54f</SetVariable>

      <!-- black lines & spacers to separate widgets -->
      <SetVariable name="SeparatorWidthDecksBottom">0f</SetVariable>
      <SetVariable name="SeparatorWidthRate">2f</SetVariable>
      <SetVariable name="SeparatorWidthMixer">0f</SetVariable>
      <SetVariable name="SeparatorWidthFxV">4f</SetVariable>
      <SetVariable name="SeparatorWidthFxH">2f</SetVariable>

      <!-- Knob settings -->
      <SetVariable name="PotiMinAngle">-130</SetVariable>
      <SetVariable name="PotiMaxAngle">130</SetVariable>
      <SetVariable name="ArcRadiusBig">14.5</SetVariable>
      <SetVariable name="ArcRadiusCompact">13.0</SetVariable>
      <SetVariable name="ArcRadiusSmall">12.0</SetVariable>
      <SetVariable name="ArcThicknessBig">2</SetVariable>
      <SetVariable name="ArcRoundCaps">true</SetVariable>
      <SetVariable name="ArcColorEq">#999</SetVariable>
      <SetVariable name="ArcColorGain">#b96300</SetVariable>
      <SetVariable name="ArcColorFx12Quick">#5ba000</SetVariable>
      <SetVariable name="ArcColorFx34">#257b82</SetVariable>
      <SetVariable name="ArcColorFxParameter">#aaa</SetVariable>
      <!--SetVariable name="ArcColorGainLow">#a05600</SetVariable-->
      <SetVariable name="ArcColorGainLow">#7d4a0f</SetVariable>
      <!--SetVariable name="ArcColorMstBal">#aa0000</SetVariable-->
      <SetVariable name="ArcColorMstBal">#7d0f0f</SetVariable>
      <SetVariable name="ArcColorFxMix">#aa0000</SetVariable>
      <!-- Suffix for the knob indicator SVGs -->
      <SetVariable name="KnobColorEq">grey</SetVariable>
      <SetVariable name="KnobColorFx12">green</SetVariable>
      <SetVariable name="KnobColorFx34">blue</SetVariable>
      <!-- Size of the small EQ kill indicator button: SVG is 6x6 px.
          Set size to '0f,0f' to hide them. -->
      <SetVariable name="EqKillDotSize">6f,6f</SetVariable>

      <!-- Slider bar settings -->
      <SetVariable name="BarBgColor">#020202</SetVariable>
      <SetVariable name="BarColorVolume">#257b82</SetVariable>
      <SetVariable name="BarColorCrossfader">#257b82</SetVariable>
      <SetVariable name="BarColorPitch">#888</SetVariable>
      <SetVariable name="BarWidth">2</SetVariable>
      <SetVariable name="BarMarginVolume">8,8</SetVariable>
      <SetVariable name="BarMarginPitch">7,8</SetVariable>
      <SetVariable name="BarMarginPitchSampler">5,5</SetVariable>
      <SetVariable name="BarMarginCrossfader">7,7</SetVariable>

      <!-- Waveform & Overview colors -->
      <!-- This is a hack to have a grey background in empty decks.
          When a track is laoded the bg becomes black for better contrast -->
      <SetVariable name="BgColorOverview_12">rgba(15, 15, 15, 20)</SetVariable>
      <SetVariable name="BgColorOverview_34">rgba(0, 27, 35, 120)</SetVariable>
      <SetVariable name="BgColorOverview_SamPre">rgba(15, 15, 15, 20)</SetVariable>
      <SetVariable name="BgColorWaveform_12">#0f0f0e</SetVariable>
      <SetVariable name="BgColorWaveform_34">#001b23</SetVariable>
      <SetVariable name="SignalColor_12">#d9b28c</SetVariable>
      <SetVariable name="SignalColor_34">#7bc6c3</SetVariable>
      <!--SetVariable name="SignalRGBHighColor">slateblue</SetVariable>
      <SetVariable name="SignalRGBMidColor">limegreen</SetVariable>
      <SetVariable name="SignalRGBLowColor">firebrick</SetVariable-->
      <SetVariable name="SignalRGBHighColor">#0c0a32</SetVariable>
      <SetVariable name="SignalRGBMidColor">#092800</SetVariable>
      <SetVariable name="SignalRGBLowColor">#3c0a00</SetVariable>
      <SetVariable name="AxesColor">#bbb</SetVariable>
      <SetVariable name="BeatColor">#bbb</SetVariable>
      <!--SetVariable name="PlayPosColor">#00c8ff</SetVariable-->
      <SetVariable name="PlayPosColor">#ff9417</SetVariable>
      <SetVariable name="CueColor">#ff7a01</SetVariable>
      <SetVariable name="LoopColor">#00b400</SetVariable>
      <SetVariable name="IntroOutroColor">#2c5c9a</SetVariable>
      <SetVariable name="PlayedOverlayColor">#bb000000</SetVariable>
      <SetVariable name="EndOfTrackColor">#f856e7</SetVariable>
    </Scheme><!-- PaleMoon -->

    <Scheme>
      <Name>Classic</Name>
      <Style src="skin:style_classic.qss"/>
      <SetVariable name="BtnScheme">classic</SetVariable>
      <SetVariable name="KnobScheme">classic</SetVariable>
      <SetVariable name="SliderScheme">classic</SetVariable>
      <SetVariable name="StyleScheme">classic</SetVariable>

      <SetVariable name="TopRegion_BtnType">embedded</SetVariable>
      <SetVariable name="SubRegion_BtnType">elevated</SetVariable>

      <!-- CHECK! -->
      <SetVariable name="SpinnySizeSmall">63f,61f</SetVariable>
      <SetVariable name="SpinnySizeBig">106f,106f</SetVariable>
      <SetVariable name="SpinnySizeBigCompact">108f,106f</SetVariable>
      <SetVariable name="SpinnySizeMiniDeck">52f,52f</SetVariable>

      <SetVariable name="SeparatorWidthDecksBottom">2f</SetVariable>
      <SetVariable name="SeparatorWidthRate">0f</SetVariable>
      <SetVariable name="SeparatorWidthMixer">0f</SetVariable>
      <SetVariable name="SeparatorWidthFxV">6f</SetVariable>
      <SetVariable name="SeparatorWidthFxH">1f</SetVariable>

      <!-- Knob settings -->
      <SetVariable name="PotiMinAngle">-135</SetVariable>
      <SetVariable name="PotiMaxAngle">135</SetVariable>
      <SetVariable name="KnobColorEq">red</SetVariable>
      <SetVariable name="KnobColorFx12">green</SetVariable>
      <SetVariable name="KnobColorFx34">blue</SetVariable>
      <!-- EQ kill dots conflict with arcs in Classic knob backgrounds,
        so we don't show them -->
      <SetVariable name="EqKillDotSize">0f,0f</SetVariable>

      <!-- Waveform & Overview colors -->
      <SetVariable name="BgColorOverview_12">rgba(15, 15, 15, 20)</SetVariable>
      <SetVariable name="BgColorOverview_34">rgba(0, 27, 35, 120)</SetVariable>
      <SetVariable name="BgColorOverview_SamPre">#0f0f0f</SetVariable>
      <SetVariable name="BgColorWaveform_12">#0f0f0e</SetVariable>
      <SetVariable name="BgColorWaveform_34">#001b23</SetVariable>
      <SetVariable name="SignalColor_12">#e7c413</SetVariable>
      <SetVariable name="SignalColor_34">#09b2ae</SetVariable>
      <SetVariable name="SignalRGBHighColor">#332acc</SetVariable>
      <SetVariable name="SignalRGBMidColor">#33f600</SetVariable>
      <SetVariable name="SignalRGBLowColor">#ff2a00</SetVariable>
      <SetVariable name="AxesColor">#ffffff</SetVariable>
      <SetVariable name="BeatColor">#ffffff</SetVariable>
      <SetVariable name="PlayPosColor">#00c8ff</SetVariable>
      <SetVariable name="CueColor">#ff001c</SetVariable>
      <SetVariable name="LoopColor">#00ff00</SetVariable>
      <SetVariable name="IntroOutroColor">#0000ff</SetVariable>
      <SetVariable name="PlayedOverlayColor">#bb000000</SetVariable>
      <SetVariable name="EndOfTrackColor">#f856e7</SetVariable>
    </Scheme><!-- Classic -->
  </Schemes>

  <ObjectName>Mixxx</ObjectName>
  <Style src="skin:style.qss"/>
  <!-- MinimumSize should not be an exact monitor resolution. There needs
  to be space for the title bar or other chrome at full screen.
  https://www.mixxx.org/wiki/doku.php/skin_guidelines#the_optimal_size_for_skins -->
  <MinimumSize>1270,550</MinimumSize>
  <SizePolicy>me,me</SizePolicy>
  <Layout>vertical</Layout>
  <LaunchImageStyle>
    LaunchImage {
      background-color: #0f0f0f;
    }
    QLabel {
      <!-- ToDo ronso0 :: Unfortunately, variables are not considered here, yet ;)
          because the launch screen appears while the skin is parsed.
      image: url(skin:/style_<Variable name="scheme"/>/mixxx_logo.svg); -->
      image: url(skin:/classic/style/mixxx_logo.svg);
      padding: 0;
      margin: 0px 2px 0px 2px;
      border: none;
      min-width: 160px;
      min-height: 40px;
      max-width: 160px;
      max-height: 40px;
    }
    QProgressBar {
      background: url(skin:/classic/style/progressbar_bg.svg);
      border: none;
      min-width: 164px;
      min-height: 5px;
      max-width: 164px;
      max-height: 5px;
    }
    QProgressBar::chunk {
      background: url(skin:/classic/style/progressbar.svg);
    }
  </LaunchImageStyle>

  <Children>

    <SetVariable name="Align">center</SetVariable>

    <!-- Define singletons as early in the skin as possible.
    Note that Singletons don't actually appear here, they are just instantiated
    and configured. -->
    <SingletonDefinition>
      <ObjectName>LibrarySingleton</ObjectName>
      <Children>
        <Template src="skin:library.xml"/>
      </Children>
    </SingletonDefinition>

    <Template src="skin:/mixer/singletons.xml"/>

    <WidgetGroup>
      <ObjectName>SkinContainer</ObjectName>
      <Layout>vertical</Layout>
      <SizePolicy>me,me</SizePolicy>
      <Children>

        <Template src="skin:toolbar.xml"/>
        <!-- regular/maximized library + skin settings menu -->
        <WidgetGroup>
          <Layout>horizontal</Layout>
          <SizePolicy>me,me</SizePolicy>
          <Children>

            <!-- regular or maximized library -->
            <WidgetStack currentpage="[Master],maximize_library">
              <Children>

                <!-- Waveforms, Decks, Effects... /  Library
                This view needs to be set up first, before the view with the
                maximized library, because decks_left/_right.xml contain Singletons
                for a regular and minimal of each deck which we need above the
                maximized library view. -->
                <Splitter>
                  <ObjectName>HorizontalSplitter</ObjectName>
                  <Orientation>vertical</Orientation>
                  <SizePolicy>me,min</SizePolicy>
                  <SplitSizesConfigKey>[Skin],stackedWaveforms_splitSize</SplitSizesConfigKey>
                  <Collapsible>0,0</Collapsible>
                  <Connection>
                    <ConfigKey>[Master],maximize_library</ConfigKey>
                    <Transform><Not/></Transform>
                    <BindProperty>visible</BindProperty>
                  </Connection>
                  <Children>

                    <WidgetGroup>
                      <Layout>vertical</Layout>
                      <SizePolicy>me,max</SizePolicy>
                      <Children>
                        <Template src="skin:waveforms_container.xml"/>
                      </Children>
                      <Connection>
                        <ConfigKey persist="true">[Skin],show_waveforms</ConfigKey>
                        <BindProperty>visible</BindProperty>
                      </Connection>
                    </WidgetGroup>


                    <WidgetGroup>
                      <Layout>vertical</Layout>
                      <SizePolicy>me,me</SizePolicy>
                      <Children>
                        <WidgetGroup><!-- Top spacer when waveforms are hidden -->
                          <Size>0me,3f</Size>
                          <Connection>
                            <ConfigKey persist="true">[Skin],show_waveforms</ConfigKey>
                            <Transform><Not/></Transform>
                            <BindProperty>visible</BindProperty>
                          </Connection>
                        </WidgetGroup>
                        <WidgetGroup>
                          <Layout>horizontal</Layout>
                          <SizePolicy>me,max</SizePolicy>
                          <Children>
                            <Template src="skin:/decks/decks_left.xml"/>
                            <Template src="skin:mixer.xml"/>
                            <Template src="skin:/mixer/vumeters_compact.xml"/>
                            <Template src="skin:/decks/decks_right.xml"/>
                          </Children>
                        </WidgetGroup>
                        <Template src="skin:fx_rack.xml"/>
                        <Template src="skin:samplers_rack.xml"/>
                        <Template src="skin:mic_aux_rack.xml"/>
                        <SingletonContainer>
                          <ObjectName>LibrarySingleton</ObjectName>
                        </SingletonContainer>
                      </Children>
                    </WidgetGroup>

                  </Children>
                </Splitter><!-- Decks, Effects, Samplers, Mic/Aux, Library -->

                <!-- Mini decks + maximized Library only -->
                <WidgetGroup>
                  <Layout>vertical</Layout>
                  <SizePolicy>me,me</SizePolicy>
                  <Connection>
                    <ConfigKey>[Master],maximize_library</ConfigKey>
                    <BindProperty>visible</BindProperty>
                  </Connection>
                  <Children>

                    <WidgetGroup>
                      <Layout>vertical</Layout>
                      <SizePolicy>me,max</SizePolicy>
                      <Children>
                        <Template src="skin:/decks/decks_mini.xml"/>
                      </Children>
                      <Connection>
                        <ConfigKey persist="true">[Skin],show_minimal_decks</ConfigKey>
                        <BindProperty>visible</BindProperty>
                      </Connection>
                    </WidgetGroup>

                    <SingletonContainer>
                      <ObjectName>LibrarySingleton</ObjectName>
                    </SingletonContainer>
                  </Children>
                </WidgetGroup><!-- Mini decks + maximized Library only -->

              </Children>
            </WidgetStack>
            <Template src="skin:/skin_settings.xml"/>

          </Children>
        </WidgetGroup><!-- regular/maximized library + skin settings menu -->

        <!-- Some helpers to show widgets and switch between different layouts. -->
        <Template src="skin:/helpers/skin_helper_mic_ducking.xml"/>
        <Template src="skin:/helpers/skin_helper_spinny-cover.xml"/>
        <Template src="skin:/helpers/skin_helper_deck_size.xml"/>

      </Children>
    </WidgetGroup>
  </Children>
</skin>
