<!--
Description:
  The skin settings menu.

  Bug: qss 'qproperty-layoutAlignment' is not respected for stacked layout.
  No way to make SkinSettings float on top of main window at the right side
  while keeping the screen area underneath clickable.

  https://bugs.launchpad.net/mixxx/+bug/1689196
  On OSX this widget is drawn behind main skin instead on top of it.
  I removed the stacked layout and placed skin settings on the right hand side of main skin.
-->
<Template>
  <WidgetGroup>
    <ObjectName>SkinSettingsContainer</ObjectName>
    <Layout>horizontal</Layout>
    <SizePolicy>min,me</SizePolicy>
    <Children>
      
      <WidgetGroup>
        <ObjectName>SkinSettings</ObjectName>
        <Layout>vertical</Layout>
        <Size>190f,1me</Size>
        <Children>
          <WidgetGroup>
            <ObjectName>SkinSettingsHeader</ObjectName>
            <Layout>horizontal</Layout>
            <SizePolicy>me,f</SizePolicy>
            <Children>
                    <!--  Waveform -->
              <Template src="skin:skin_settings_labelbutton_2state.xml">
                <SetVariable name="text">Waveform</SetVariable>
                <SetVariable name="Setting">[Master],waveform_visible</SetVariable>
              </Template>

              <!-- push Close button to far right -->
              <WidgetGroup><Size>1me,1min</Size></WidgetGroup>

              <Template src="skin:button_2state.xml">
                <SetVariable name="TooltipId">skin_settings</SetVariable>
                <SetVariable name="ObjectName">SkinSettingsClose</SetVariable>
                <SetVariable name="Size">20f,21f</SetVariable>
                <SetVariable name="ConfigKey">[Master],skin_settings</SetVariable>
              </Template>
            </Children>
          </WidgetGroup>

          <WidgetGroup><!-- big / small deck toggle  -->
            <SizePolicy>me,me</SizePolicy>
            <Layout>horizontal</Layout>
            <Children>
              <!--  Decks -->
              <Label>
                <ObjectName>CategoryLabel</ObjectName>
                <Text>Decks</Text>
              </Label>

              <WidgetGroup><Size>3f,1min</Size></WidgetGroup>
              <WidgetGroup><!-- big or small -->
                <SizePolicy>me,me</SizePolicy>
                <Layout>stacked</Layout>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup>
                    <SizePolicy>me,me</SizePolicy>
                    <Layout>horizontal</Layout>
                    <Children>
                      <Template src="skin:skin_settings_button_multi.xml">
                        <SetVariable name="state_x_text">[&#9711; /</SetVariable>
                        <SetVariable name="width">26</SetVariable>
                        <SetVariable name="stateX">0</SetVariable>
                        <SetVariable name="Setting">[Skin],small_decks</SetVariable>
                      </Template>
                      <Template src="skin:skin_settings_button_multi.xml">
                        <SetVariable name="state_x_text">&#9898;] </SetVariable>
                        <SetVariable name="width">26</SetVariable>
                        <SetVariable name="stateX">1</SetVariable>
                        <SetVariable name="Setting">[Skin],small_decks</SetVariable>
                      </Template>
                      <WidgetGroup><Size>0me,1min</Size></WidgetGroup>
                    </Children>
                  </WidgetGroup>
                </Children>
              </WidgetGroup><!-- /big or small -->
            </Children>
          </WidgetGroup><!-- /big / small deck toggle  -->

          <WidgetGroup><!-- /Deck -->
            <ObjectName>SkinSettingsCategory</ObjectName>
            <SizePolicy>me,min</SizePolicy>
            <Layout>vertical</Layout>
            <Children>

              <WidgetGroup><!-- 2/4 Decks toggle -->
                <Layout>stacked</Layout>
                <Size>190f,17f</Size>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup><!-- translucent cover when Channel Mixer is hidden -->
                    <ObjectName>SubmenuCover</ObjectName>
                    <Layout>vertical</Layout>
                    <Size>190f,17f</Size>
                    <Connection>
                      <ConfigKey persist="true">[Skin],small_decks</ConfigKey>
                      <Transform><Not/></Transform>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>      
   
                  <Template src="skin:skin_settings_button_2state.xml">
                    <SetVariable name="TooltipId">toggle_4decks</SetVariable>
                    <SetVariable name="text">4 Decks</SetVariable>
                    <SetVariable name="Setting">[Skin],show_4decks</SetVariable>
                  </Template>

                </Children>
              </WidgetGroup><!-- 2/4 Decks toggle -->

              <WidgetGroup><!-- Intro & Outro cues toggle -->
                <Layout>stacked</Layout>
                <Size>190f,17f</Size>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup><!-- translucent cover when Channel Mixer is hidden -->
                    <ObjectName>SubmenuCover</ObjectName>
                    <Layout>vertical</Layout>
                    <Size>190f,17f</Size>
                    <Connection>
                      <ConfigKey persist="true">[Skin],small_decks</ConfigKey>
                      <Transform><Not/></Transform>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>      
                   
                  <Template src="skin:skin_settings_button_2state.xml">
                    <SetVariable name="TooltipId">show_intro_outro_cues</SetVariable>
                    <SetVariable name="text">Intro &amp; Outro Cues</SetVariable>
                    <SetVariable name="Setting">[Skin],show_intro_outro_cues</SetVariable>
                  </Template>

                </Children>
              </WidgetGroup><!-- Intro & Outro cues toggle -->

              <WidgetGroup><!-- Spinny -->
                <Layout>stacked</Layout>
                <Size>190f,17f</Size>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup><!-- translucent cover when Channel Mixer is hidden -->
                    <ObjectName>SubmenuCover</ObjectName>
                    <Layout>vertical</Layout>
                    <Size>190f,17f</Size>
                    <Connection>
                      <ConfigKey persist="true">[Skin],small_decks</ConfigKey>
                      <Transform><Not/></Transform>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>       
                  
                  <Template src="skin:skin_settings_button_2state.xml">
                    <SetVariable name="TooltipId">show_spinny</SetVariable>
                    <SetVariable name="text">Spinny</SetVariable>
                    <SetVariable name="Setting">[Skin],show_spinnies</SetVariable>
                  </Template>

                </Children>
              </WidgetGroup><!-- Spinny -->

              <WidgetGroup><!-- Cover Art -->
                <Layout>stacked</Layout>
                <Size>190f,17f</Size>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup><!-- translucent cover when Channel Mixer is hidden -->
                    <ObjectName>SubmenuCover</ObjectName>
                    <Layout>vertical</Layout>
                    <Size>190f,17f</Size>
                    <Connection>
                      <ConfigKey persist="true">[Skin],small_decks</ConfigKey>
                      <Transform><Not/></Transform>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>       
                  
                  <Template src="skin:skin_settings_button_2state.xml">
                    <SetVariable name="TooltipId">show_coverart</SetVariable>
                    <SetVariable name="text">Cover Art</SetVariable>
                    <SetVariable name="Setting">[Skin],show_coverart</SetVariable>
                  </Template>

                </Children>
              </WidgetGroup><!-- Cover Art -->

            </Children>
          </WidgetGroup><!-- /Deck -->

          <WidgetGroup><!-- Effect settings -->
            <MinimumSize>190f,21</MinimumSize>
            <MaximumSize>190f,21</MaximumSize>
            <SizePolicy>me,me</SizePolicy>
            <Layout>horizontal</Layout>
            <Children>
              <!-- Effects -->
              <Template src="skin:skin_settings_labelbutton_2state.xml">
                <SetVariable name="text">Effects </SetVariable>
                <SetVariable name="Setting">[EffectRack1],show</SetVariable>
                <SetVariable name="TooltipId">show_effects</SetVariable>
              </Template>

              <WidgetGroup><Size>1me,1min</Size></WidgetGroup>

              <WidgetGroup><!-- 2 or 4 -->
                <Layout>stacked</Layout>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup><!-- translucent cover when Effects are invisible -->
                    <ObjectName>SubmenuCover</ObjectName>
                    <Layout>vertical</Layout>
                    <Connection>
                      <ConfigKey persist="true">[EffectRack1],show</ConfigKey>
                      <Transform><Not/></Transform>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>

                  <WidgetGroup>
                    <Layout>horizontal</Layout>
                    <Children>
                      <Template src="skin:skin_settings_button_multi.xml">
                        <SetVariable name="state_x_text"> [2] </SetVariable>
                        <SetVariable name="width">26</SetVariable>
                        <SetVariable name="stateX">0</SetVariable>
                        <SetVariable name="Setting">[Skin],show_4effectunits</SetVariable>
                      </Template>
                      <Template src="skin:skin_settings_button_multi.xml">
                        <SetVariable name="state_x_text">[4] </SetVariable>
                        <SetVariable name="width">26</SetVariable>
                        <SetVariable name="stateX">1</SetVariable>
                        <SetVariable name="Setting">[Skin],show_4effectunits</SetVariable>
                      </Template>
                      <WidgetGroup><Size>0me,1min</Size></WidgetGroup>
                    </Children>
                  </WidgetGroup>
                </Children>
              </WidgetGroup><!-- /2 or 4 -->
            </Children>
          </WidgetGroup><!-- /Effect settings -->

          <WidgetGroup><!-- 4 buttons -->
            <ObjectName>SkinSettingsCategory</ObjectName>
            <SizePolicy>me,min</SizePolicy>
            <Layout>vertical</Layout>
            <Children>

              <WidgetGroup><!-- Super knobs -->
                <Layout>stacked</Layout>
                <Size>190f,17f</Size>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup>
                    <ObjectName>SubmenuCover</ObjectName>
                    <Layout>stacked</Layout>
                    <Size>190f,17f</Size>
                    <Connection>
                      <ConfigKey persist="true">[EffectRack1],show</ConfigKey>
                      <Transform><Not/></Transform>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>

                  <Template src="skin:skin_settings_button_2state.xml">
                    <SetVariable name="text">Super Knobs</SetVariable>
                    <SetVariable name="Setting">[Skin],show_superknobs</SetVariable>
                  </Template>
                </Children>
              </WidgetGroup><!-- /Super knobs -->

            </Children>
          </WidgetGroup><!-- /Effects -->

          <WidgetGroup><!-- Sampler settings -->
            <MinimumSize>190f,21</MinimumSize>
            <MaximumSize>190f,21</MaximumSize>
            <SizePolicy>me,me</SizePolicy>
            <Layout>horizontal</Layout>
            <Children>
              <!-- Samplers -->
              <Template src="skin:skin_settings_labelbutton_2state.xml">
                <SetVariable name="TooltipId">show_samplers</SetVariable>
                <SetVariable name="text">Samplers </SetVariable>
                <SetVariable name="Setting">[Samplers],show_samplers</SetVariable>
              </Template>

              <WidgetGroup><Size>1me,1min</Size></WidgetGroup>

              <WidgetGroup><!-- 4 or 8 -->
                <Layout>stacked</Layout>
                <Children>
                  <!-- index 0 due to bug -->
                  <WidgetGroup><Size>0f,0f</Size></WidgetGroup>

                  <WidgetGroup><!-- translucent cover when Hot Cues are invisible -->
                    <ObjectName>SubmenuCover</ObjectName>
                    <Layout>vertical</Layout>
                    <Connection>
                      <ConfigKey persist="true">[Samplers],show_samplers</ConfigKey>
                      <Transform><Not/></Transform>
                      <BindProperty>visible</BindProperty>
                    </Connection>
                  </WidgetGroup>

                  <WidgetGroup>
                    <Layout>horizontal</Layout>
                    <Children>
                      <Template src="skin:skin_settings_button_multi.xml">
                        <SetVariable name="state_x_text"> [4] </SetVariable>
                        <SetVariable name="width">26</SetVariable>
                        <SetVariable name="stateX">0</SetVariable>
                        <SetVariable name="Setting">[Skin],8_samplers</SetVariable>
                      </Template>
                      <Template src="skin:skin_settings_button_multi.xml">
                        <SetVariable name="state_x_text">[8] </SetVariable>
                        <SetVariable name="width">26</SetVariable>
                        <SetVariable name="stateX">1</SetVariable>
                        <SetVariable name="Setting">[Skin],8_samplers</SetVariable>
                      </Template>
                      <WidgetGroup><Size>0me,1min</Size></WidgetGroup>
                    </Children>
                  </WidgetGroup>
                </Children>
              </WidgetGroup><!-- /4 or 8 -->
            </Children>
          </WidgetGroup><!-- /Sampler settings -->

          <WidgetGroup><!-- 4 buttons -->
            <ObjectName>SkinSettingsCategory</ObjectName>
            <SizePolicy>me,min</SizePolicy>
            <Layout>vertical</Layout>
            <Children>

              <PushButton>
                <TooltipId>LoadSamplerBank</TooltipId>
                <ObjectName>SkinSettingsButton</ObjectName>
                <Size>190f,17f</Size>
                <NumberStates>1</NumberStates>
                <State>
                  <Number>0</Number>
                  <Text>      Load Sampler Bank</Text>
                  <Alignment>left</Alignment>
                </State>
                <Connection>
                  <ConfigKey>[Sampler],LoadSamplerBank</ConfigKey>
                  <ButtonState>LeftButton</ButtonState>
                </Connection>
              </PushButton>

              <PushButton>
                <TooltipId>SaveSamplerBank</TooltipId>
                <ObjectName>SkinSettingsButton</ObjectName>
                <Size>190f,17f</Size>
                <NumberStates>1</NumberStates>
                <State>
                  <Number>0</Number>
                  <Text>      Save Sampler Bank</Text>
                  <Alignment>left</Alignment>
                </State>
                <Connection>
                  <ConfigKey>[Sampler],SaveSamplerBank</ConfigKey>
                  <ButtonState>LeftButton</ButtonState>
                </Connection>
              </PushButton>

            </Children>
          </WidgetGroup><!-- /Samplers -->

          <Label>
            <ObjectName>CategoryLabel</ObjectName>
            <Text>Library</Text>
            <Size>190f,21f</Size>
          </Label>

          <WidgetGroup>
            <ObjectName>SkinSettingsCategory</ObjectName>
            <SizePolicy>me,min</SizePolicy>
            <Layout>vertical</Layout>
            <Children>

              <!-- Preview Deck -->
              <Template src="skin:skin_settings_button_2state.xml">
                <SetVariable name="TooltipId">show_previewdeck</SetVariable>
                <SetVariable name="text">Preview Deck</SetVariable>
                <SetVariable name="Setting">[PreviewDeck],show_previewdeck</SetVariable>
              </Template>

              <!-- Cover Art -->
              <Template src="skin:skin_settings_button_2state.xml">
                <SetVariable name="TooltipId">show_coverart</SetVariable>
                <SetVariable name="text">Cover Art</SetVariable>
                <SetVariable name="Setting">[Library],show_coverart</SetVariable>
              </Template>

            </Children>
          </WidgetGroup><!-- /Library -->

        </Children>
      </WidgetGroup><!-- /SkinSettings -->
    </Children>
    <Connection>
      <ConfigKey>[Master],skin_settings</ConfigKey>
      <BindProperty>visible</BindProperty>
    </Connection>
  </WidgetGroup>
</Template>
