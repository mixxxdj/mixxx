<!--
Description:
	Effect selector buttons
	- previous effect
	- effect name with toggle button over/underlay
	- next effect
Variables:
	EffectRack: the rack
	EffectUnit: the chain
	Effect: the effect
-->
<Template>
	<SetVariable name="group">[EffectRack<Variable name="EffectRack"/>_EffectUnit<Variable name="EffectUnit"/>_Effect<Variable name="Effect"/>]</SetVariable>
  <WidgetGroup>
    <ObjectName>EffectTogglerMetaKnob</ObjectName>
    <Layout>horizontal</Layout>
    <MinimunSize>115,30</MinimunSize>
    <MaximumSize>130,39</MaximumSize>
    <SizePolicy>min,min</SizePolicy>
    <Children>

      <Template src="skin:fx_focus_button.xml"/>
      
      <WidgetGroup><Size>1f,1min</Size></WidgetGroup>

      <Template src="skin:knob_textless.xml">
        <SetVariable name="TooltipId">EffectUnit_super1</SetVariable>
        <SetVariable name="ConfigKey">meta</SetVariable>
        <SetVariable name="Size">30f,30f</SetVariable>
        <SetVariable name="Color">blue</SetVariable>
      </Template>
      
      <WidgetGroup><Size>1f,1min</Size></WidgetGroup>

      <WidgetGroup><!-- Effect toggler + Effect selector -->
        <ObjectName>EffectToggler</ObjectName>
        <Layout>stacked</Layout>
        <SizePolicy>min,min</SizePolicy>
        <Children>

          <!-- invisible, clickable Overlay to toggle Effect -->
          <Template src="skin:button_2state.xml"><!-- EffectToggleButton -->
            <SetVariable name="ObjectName">EffectToggleButton</SetVariable>
            <SetVariable name="TooltipId">EffectSlot_enabled</SetVariable>
            <SetVariable name="Size">72f,20f</SetVariable>
            <SetVariable name="ConfigKey"><Variable name="group"/>,enabled</SetVariable>
          </Template>

          <WidgetGroup>
            <ObjectName>fxNameContainer</ObjectName>
            <Size>72f,20f</Size>
            <Layout>horizontal</Layout>
            <Children>
              <WidgetGroup><Size>0me,1min</Size></WidgetGroup>
              <EffectName>
                <ObjectName>fxName</ObjectName>
                <EffectRack><Variable name="EffectRack"/></EffectRack>
                <EffectUnit><Variable name="EffectUnit"/></EffectUnit>
                <Effect><Variable name="Effect"/></Effect>
              </EffectName>
              <WidgetGroup><Size>0me,1min</Size></WidgetGroup>
            </Children>
          </WidgetGroup>
          <!-- Colored background to communicate the Effect's ON/OFF status -->
          <Template src="skin:button_2state.xml"><!-- EffectToggleButton -->
            <SetVariable name="ObjectName">EffectToggleButtonUnderlay</SetVariable>
            <SetVariable name="Size">72f,20f</SetVariable>
            <SetVariable name="ConfigKey"><Variable name="group"/>,enabled</SetVariable>
          </Template>

          <EffectSelector>
            <MinimunSize>72,20</MinimunSize>
            <MaximumSize>87,20</MaximumSize>
            <SizePolicy>me,f</SizePolicy>
            <EffectRack><Variable name="EffectRack"/></EffectRack>
            <EffectUnit><Variable name="EffectUnit"/></EffectUnit>
            <Effect><Variable name="Effect"/></Effect>
          </EffectSelector>

        </Children>
      </WidgetGroup><!-- /Effect toggler + Effect selector -->

    </Children>
  </WidgetGroup>
</Template>
