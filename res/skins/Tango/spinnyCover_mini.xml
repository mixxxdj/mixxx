<!--
Description:
  Container for either CoverArt or Spinny (with or without Cover) next to
  waveform overview in deck.
Variables:
  channum: channel number
  [Tango],spinny0_cover1_stack: show Spinny or CoverArt
  [Tango],spinnyWithCoverArt_stack: show Spinny with or without Cover
-->
<Template>
  <WidgetStack currentpage="[Tango],spinny0_cover1_stack" persist="true">
    <ObjectName>SpinnyCoverMini</ObjectName>
    <Size>50f,50f</Size><!-- 3 + 111px + 3px -->
    <Children>

      <WidgetStack currentpage="[Tango],spinnyWithCoverArt_stack" persist="true">
        <Size>111f,111f</Size>
        <Children>

          <Spinny>
            <ObjectName>SpinnyMini</ObjectName>
            <Size>50f,50f</Size>
            <TooltipId>spinny</TooltipId>
            <Group><Variable name="group"/></Group>
            <PathBackground scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_bg.svg</PathBackground>
            <PathForeground scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_indicator.svg</PathForeground>
            <PathMask scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_<Variable name="channum"/>_mask.svg</PathMask>
            <PathGhost scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_indicator_ghost.svg</PathGhost>
            <ShowCover>false</ShowCover>
          </Spinny>

          <Spinny trigger="[Tango],spinnyWithCoverArt" persist="true">
            <ObjectName>SpinnyMini</ObjectName>
            <Size>50f,50f</Size>
            <TooltipId>spinny</TooltipId>
            <Group><Variable name="group"/></Group>
            <PathBackground scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_bg.svg</PathBackground>
            <PathForeground scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_indicator.svg</PathForeground>
            <PathMask scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_<Variable name="channum"/>_mask.svg</PathMask>
            <PathGhost scalemode="STRETCH_ASPECT">skin:/graphics/spinnyMini_indicator_ghost.svg</PathGhost>
            <ShowCover>true</ShowCover>
            <Connection>
              <ConfigKey persist="true">[Tango],spinnyWithCoverArt</ConfigKey>
              <BindProperty>visible</BindProperty>
            </Connection>
          </Spinny>

        </Children>
        <Connection>
          <ConfigKey persist="true">[Tango],empty_spinny_cover</ConfigKey>
          <BindProperty>visible</BindProperty>
        </Connection>
      </WidgetStack>

      <CoverArt>
        <TooltipId>coverart</TooltipId>
        <Size>50f,50f</Size>
        <Group>[Channel<Variable name="channum"/>]</Group>
        <DefaultCover>skin:/graphics/cover_default_mini_<Variable name="channum"/>.svg</DefaultCover>
        <Connection>
          <ConfigKey persist="true">[Tango],empty_spinny_cover</ConfigKey>
          <BindProperty>visible</BindProperty>
          <Transform><Add>-1</Add></Transform>
        </Connection>
      </CoverArt>

    </Children>
  </WidgetStack>
</Template>
