name: portaudio
buildsystem: cmake-ninja
config-opts:
  - -DCMAKE_BUILD_TYPE=RelWithDebInfo
  - -DCMAKE_POLICY_VERSION_MINIMUM=3.5
sources:
  - type: archive
    url: https://github.com/PortAudio/portaudio/archive/refs/tags/v19.7.0.tar.gz
    sha256: 5af29ba58bbdbb7bbcefaaecc77ec8fc413f0db6f4c4e286c40c3e1b83174fa0
    dest-filename: portaudio.tar.gz
    x-checker-data:
      type: anitya
      project-id: 10597
      stable-only: true
      url-template: https://github.com/PortAudio/portaudio/archive/refs/tags/v$version.tar.gz
cleanup:
  - /include
  - /lib/cmake
  - /lib/pkgconfig
  - /share/doc
post-install:
  - install -Dm644 -t ${FLATPAK_DEST}/share/licenses/portaudio LICENSE.txt
