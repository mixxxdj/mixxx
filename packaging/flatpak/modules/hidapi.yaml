name: hidapi
buildsystem: cmake-ninja
config-opts:
  - -DCMAKE_BUILD_TYPE=RelWithDebInfo
sources:
  - type: archive
    url: https://github.com/libusb/hidapi/archive/refs/tags/hidapi-0.15.0.tar.gz
    sha256: 5d84dec684c27b97b921d2f3b73218cb773cf4ea915caee317ac8fc73cef8136
    x-checker-data:
      type: anitya
      project-id: 5594
      stable-only: true
      url-template: https://github.com/libusb/hidapi/archive/refs/tags/hidapi-$version.tar.gz
cleanup:
  - /include
  - /lib/cmake
  - /lib/pkgconfig
post-install:
  - install -Dm644 -t ${FLATPAK_DEST}/share/licenses/hidapi LICENSE-gpl3.txt LICENSE.txt
